<!--
  Generated template for the CycleDataPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="myGreen">
    <ion-title>{{selectedCycle.name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  
  <ion-list> 
    <ion-card>
      <!-- <ion-card-title padding>Total expenses for {{selectedCycle.name}}</ion-card-title> -->
      <h2 padding>Total expenses for {{selectedCycle.name}}</h2>
      <ion-list>
        <ion-item *ngFor="let material of materialList">
            <ion-avatar item-start>
                <img src="{{material.imagePath}}">
              </ion-avatar>
          <h2>{{material.name}}: ${{ material.total | number: '.2-2'}}</h2>
        </ion-item>
      </ion-list>
    </ion-card>
    
    <ion-card *ngFor="let material of materialList" [ngStyle]="{'background':blue}">
      <ion-card-title padding>{{material.name}}</ion-card-title>
      <ion-card-content>
        <p>Total spent: ${{material.total | number: '.2-2'}}</p>
      </ion-card-content>
      <ion-row>
          <ion-col>
            <button ion-button icon-left clear small color="myGreen" (click)="goToViewCycleUsePage(material.id, material.name)">
              <ion-icon name="eye"></ion-icon>
              <div>View</div>
            </button>
          </ion-col>
          <ion-col>
              <button ion-button icon-left clear small color="myGreen" (click)="goToSelectPurchasePage(material.id)">
                <ion-icon name="add-circle"></ion-icon>
                <div>Use material</div>
              </button>
            </ion-col>
        </ion-row>
    </ion-card>

    <ion-card>
        <ion-card-title padding>Labour</ion-card-title>
        <ion-card-content>
          <p>${{totalSpentOnLabour | number: '.2-2'}}</p>
        </ion-card-content>
        <ion-row>
            <ion-col>
              <button ion-button icon-left clear small color="myGreen" (click)="goToTaskListingPage()">
                <ion-icon name="eye"></ion-icon>
                <div>View</div>
              </button>
            </ion-col>
            <ion-col>
                <button ion-button icon-left clear small color="myGreen" (click)="goToLabourListingPage()">
                  <ion-icon name="add-circle"></ion-icon>
                  <div>Assign Labour</div>
                </button>
              </ion-col>
          </ion-row>
      </ion-card>

  </ion-list>

</ion-content>

<ion-footer>
  <ion-card>
    <ion-card-content>
      <p>Total spent on crop cycle: ${{totalAmountSpent | number: '.2-2'}}</p>
    </ion-card-content>
  </ion-card>

</ion-footer>
